!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r=n(1),a=n(2);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=(r(a,i),a.locals?a.locals:{});e.exports=o},function(e,t,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function l(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],a=0;a<e.length;a++){var i=e[a],s=t.base?i[0]+t.base:i[0],c=n[s]||0,d="".concat(s," ").concat(c);n[s]=c+1;var u=l(d),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(o[u].references++,o[u].updater(h)):o.push({identifier:d,updater:g(h,t),references:1}),r.push(d)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,t){var n,r,a;if(t.singleton){var i=m++;n=p||(p=c(t)),r=h.bind(null,n,i,!1),a=h.bind(null,n,i,!0)}else n=c(t),r=f.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=l(n[r]);o[a].references--}for(var i=s(e,t),c=0;c<n.length;c++){var d=l(n[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}n=i}}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var r=class{constructor(e,t){this.rendererID=e.createBuffer(),this.Bind(e),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW)}Bind(e){e.bindBuffer(e.ARRAY_BUFFER,this.rendererID)}};var a=class{constructor(e,t){this.rendererID=e.createBuffer(),this.Bind(e),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),e.STATIC_DRAW)}Bind(e){e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.rendererID)}};var i=class{constructor(e,t,n){this.rendererID=this.CreateShader(e,t,n)}Bind(e){e.useProgram(this.rendererID)}CreateShader(e,t,n){let r=e.createProgram(),a=this.CompileShader(e,e.VERTEX_SHADER,t),i=this.CompileShader(e,e.FRAGMENT_SHADER,n);if(e.attachShader(r,a),e.attachShader(r,i),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)){if(e.validateProgram(r),e.getProgramParameter(r,e.VALIDATE_STATUS))return e.deleteShader(a),e.deleteShader(i),r;console.error("ERROR validating program!",e.getProgramInfoLog(r))}else console.error("ERROR linking program!",e.getProgramInfoLog())}CompileShader(e,t,n){let r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.error(`ERROR compiling ${35632==t?"vertex":"fragment"} shader!`,e.getShaderInfoLog(r))}SetUniform1f(e,t,n){e.uniform1f(e.getUniformLocation(this.rendererID,t),n)}SetUniform2fv(e,t,n){e.uniform2fv(e.getUniformLocation(this.rendererID,t),n)}Uniform2f(e,t,n,r){e.uniform2f(e.getUniformLocation(this.rendererID,t),n,r)}SetUniform4fv(e,t,n){e.uniform4f(e.getUniformLocation(this.rendererID,t),new Float32Array(n))}SetUniform4f(e,t,n,r,a,i){e.uniform4f(e.getUniformLocation(this.rendererID,t),n,r,a,i)}};function o(e,t,n){return(1-n)*e+n*t}class l{constructor(e,t){this.lastCalledTime=0,this.frameTime=0,this.framerate=0,this.updateRate=250,this.lastUpdateTime=0,this.DOMelements={fps:null,ft:null,loop:null,graph:null},this.graph={fps:null,ft:null},this.config=e||{consoleLog:!1,loopLog:!1,overlay:!1,graph:!1},this.logStyle={fontFamily:"font-family: 'Roboto Mono', monospace;"},this.graph={data:[],dataLength:128,max:0,min:0},this.graphDim={w:256,h:64},this.ctx,this.config.overlay&&this.initDOM(t),this.DOMelements.graph&&this.updateGraphCanvas()}update(){this.calculateFPS(),this.config.consoleLog&&this.consoleLog(),this.config.overlay&&performance.now()-this.lastUpdateTime>this.updateRate&&(this.lastUpdateTime=performance.now(),this.updateDOM()),this.config.graph&&this.config.overlay&&(this.updateGraphData(),this.updateGraphCanvas())}calculateFPS(){this.lastCalledTime&&(this.frameTime=performance.now()-this.lastCalledTime,this.framerate=1e3/this.frameTime),this.lastCalledTime=performance.now()}consoleLog(){console.log(`%cframerate: ${this.framerate.toFixed(2)} fps,\nframetime: ${this.frameTime.toFixed(2)} ms`,this.logStyle.fontFamily)}updateDOM(){this.DOMelements.fps.innerHTML=`framerate: ${this.framerate.toFixed(2)} fps`,this.DOMelements.ft.innerHTML=`frametime: ${this.frameTime.toFixed(2)} ms`}updateGraphData(){this.graph.data.push(this.frameTime),this.graph.data.length>this.graph.dataLength-1&&this.graph.data.shift()}updateGraphCanvas(){let e,t;this.ctx.clearRect(0,0,this.graphDim.w,this.graphDim.h),this.ctx.globalAlpha=.25,this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.graphDim.w,this.graphDim.h),this.ctx.globalAlpha=1,this.ctx.strokeStyle="#f5426f",this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.moveTo(-1,this.graphDim.h/2);for(let n=0;n<this.graph.dataLength;n++)e=this.graph.data[n],t=5*e-.05*this.graphDim.h,this.ctx.lineTo(n*(this.graphDim.w/this.graph.dataLength),this.graphDim.h-t);this.ctx.stroke()}initDOM(e){const t=document.getElementById("debug-container"),n=t||document.createElement("div");n.id="debug-container",n.style="position: absolute;\n      top: 0;\n      padding: 5pt;\n      display: grid;\n      color: #ffffff;\n      font-family: 'Roboto Mono', monospace;\n      font-weight: 300;\n      font-size: 10pt;\n      background-color: rgba(0, 0, 0, 0.5);\n      ",n.className="noselect overlay",this.DOMelements.fps=document.createElement("span"),this.DOMelements.fps.innerHTML="framerate: 00.00 fps",n.appendChild(this.DOMelements.fps),this.DOMelements.ft=document.createElement("span"),this.DOMelements.ft.innerHTML="frametime: 00.00 ms",n.appendChild(this.DOMelements.ft);const r=document.createElement("div"),a=document.createElement("span");a.innerHTML="loop: ",this.DOMelements.loop=document.createElement("span"),e&&(this.DOMelements.loop.addEventListener("click",e),this.DOMelements.loop.style="cursor: Pointer;"),r.appendChild(a),r.appendChild(this.DOMelements.loop),n.appendChild(r),this.config.graph&&(this.DOMelements.graph=document.createElement("canvas"),this.DOMelements.graph.style.width=`${this.graphDim.w}px`,this.DOMelements.graph.style.height=`${this.graphDim.h}px`,this.graphDim.w*=2,this.graphDim.h*=2,this.DOMelements.graph.width=this.graphDim.w,this.DOMelements.graph.height=this.graphDim.h,this.ctx=this.DOMelements.graph.getContext("2d"),n.appendChild(this.DOMelements.graph)),document.body.appendChild(n)}loopStatus(e){this.config.overlay&&(this.DOMelements.loop.innerHTML=e),this.config.loopLog&&l.logLoopStatus(e)}Log(e){this.config.log&&console.log(e)}static logLoopStatus(e){const t="font-family: 'Roboto Mono', monospace;",n=`font-size: 14px; ${t}`,r=`color: #252525; ${t} font-size: 14px; ${`background-color: ${e?"#68F48E":"#FF6B6B"};`} ${`padding: 0px; padding-bottom: 1px; padding-left:5px; padding-right: 6px; ${e?"padding-right: 14px;":""}`} `;console.log(`%cloop: %c${e}`,n,r)}}var s=l,c=n.p+"assets/shaders/d58138f9b6ec665992e23e7c0247801c.vert",d=n.p+"assets/shaders/fcc0d3b6ec9d2f3d8aae79f41f81cee1.frag";const u=new s({overlay:!0,graph:!0,loopLog:!0},Y);document.body.insertAdjacentHTML("beforeend",'\n<div class="minibar-container noselect overlay">\n<div class="section-title-container">\n  <p>location</p>\n  \x3c!--<button title="Apply Coordinate" id="updateLocation">&#x21bb;</button>--\x3e\n  \x3c!-- <button title="More Settings" id="expandBtn" class="settingsbtn">\n    &DownArrowBar;\n  </button> --\x3e\n</div>\n<div class="textinput-container">\n  <label title="x location" for="xInput">x:</label>\n  <input id="locXInput" type="text" />\n</div>\n<div class="textinput-container">\n  <label title="y location" for="yInput">y:</label>\n  <input id="locYInput" type="text" />\n</div>\n<div class="textinput-container aligned-container">\n  <label title="Maximum iteration" for="maxiter">iteration:</label>\n  <input id="maxiter" type="text" value="256" />\n  <label title="Maximum escape radius" for="maxrad">radius:</label>\n  <input id="maxrad" type="text" value="10" />\n</div>\n<div class="rangeinput-container">\n  <p>symmetry:</p>\n  <input\n    type="range"\n    min="0"\n    max="100"\n    value="0"\n    class="slider"\n    id="syminput"\n  />\n</div>\n<div class="rangeinput-container">\n  <p>color gradient</p>\n  <input\n    type="range"\n    min="0"\n    max="100"\n    value="0"\n    class="slider redslider"\n    id="redinput"\n  />\n  <input\n    type="range"\n    min="0"\n    max="100"\n    value="0"\n    class="slider greenslider"\n    id="greeninput"\n  />\n  <input\n    type="range"\n    min="0"\n    max="100"\n    value="0"\n    class="slider blueslider"\n    id="blueinput"\n  />\n</div>\n</div>\n');const h=document.getElementById("container"),f=document.createElement("canvas");f.className="pixelated",f.id="renderer",f.innerHTML="Your browser does not support HTML5",f.style="width: 100%; height: 100%;",h.appendChild(f);const p=f.getContext("webgl2")?f.getContext("webgl2"):f.getContext("webgl");p||alert("Your browser does not support WebGL");let m=p.canvas.clientWidth,g=p.canvas.clientHeight;console.log(p.getParameter(p.VERSION)),console.log(p.getParameter(p.SHADING_LANGUAGE_VERSION)),console.log(p.getParameter(p.VENDOR));let v,y,x,b,w,E,D,L,S=null,M=!0;let T=.05,A=Math.PI/180,R=[],I={},O=[0,0,0,0],_=256,B=10,C=0,F=[.3,.4,.65,50],U=[0,0,1,1,0],P=[...U];function N(e){return new Promise((t,n)=>{t(fetch(e).then(e=>e.text()))})}function H(){!function(e){m=Math.floor(e.canvas.clientWidth*window.devicePixelRatio*1),g=Math.floor(e.canvas.clientHeight*window.devicePixelRatio*1),(e.canvas.width!=m||e.canvas.height!=g)&&(e.canvas.width=m,e.canvas.height=g,x.SetUniform2fv(e,"u_resolution",[e.drawingBufferWidth,e.drawingBufferHeight]),e.viewport(0,0,e.canvas.width,e.canvas.height))}(p),p.clear(p.DEPTH_BUFFER_BIT|p.COLOR_BUFFER_BIT),x.Bind(p),p.drawElements(p.TRIANGLES,D.length,p.UNSIGNED_SHORT,0)}function k(){H(),function(){const e=Math.sin(U[4]),t=Math.cos(U[4]);U[0]+=T*O[0]*t-T*O[1]*e,U[1]+=T*O[0]*e+T*O[1]*t,U[2]+=.01*O[2],U[3]+=.01*O[2],U[4]+=A*O[3],P[0]=o(P[0],U[0],.1),P[1]=o(P[1],U[1],.1),P[2]=o(P[2],U[2],.1),P[3]=o(P[3],U[3],.1),P[4]=o(P[4],U[4],.1),T+=.01*T*O[2]*2.2}(),$(),0==O[0]&&0==O[1]||(I.loc.x.value=U[0],I.loc.y.value=U[1]),u.update(),S=requestAnimationFrame(k)}function Y(){M?(p.flush(),window.cancelAnimationFrame(S)):k(),M=!M,u.loopStatus(M)}function $(){x.SetUniform4f(p,"u_area",P[0],P[1],P[2],P[3]),x.SetUniform4f(p,"u_coloOffset",F[0],F[1],F[2],F[3]),x.SetUniform1f(p,"u_angle",P[4]),x.SetUniform1f(p,"u_radius",B),x.SetUniform1f(p,"u_maxIter",_),x.SetUniform1f(p,"u_sym",C),x.SetUniform1f(p,"u_time",performance.now()/1e3*1.5)}function j(e){U[0]=NaN==parseFloat(I.loc.x.value)?O[0]:parseFloat(I.loc.x.value),U[1]=NaN==parseFloat(I.loc.y.value)?O[1]:parseFloat(I.loc.y.value),C=I.sym.value/100,F[0]=I.color.r.value/100,F[1]=I.color.g.value/100,F[2]=I.color.b.value/100}function G(e){"wheel"==e.type?B+=e.deltaY:"change"==e.type&&(B=NaN==parseFloat(I.maxRad.value)?10:I.maxRad.value),B<0&&(B=0),I.maxRad.value=B}function V(e){"wheel"===e.type?(_+=e.deltaY,_<1?_=1:_>3e4&&(_=3e4)):"change"===e.type&&(_=NaN==parseFloat(I.maxIter.value)?256:I.maxIter.value,_>3e4&&(_=3e4)),I.maxIter.value=_}function W({identifier:e,pageX:t,pageY:n}){return{identifier:e,pageX:t,pageY:n}}function z(e){for(var t=0;t<R.length;t++){if(R[t].identifier==e)return t}return-1}function X(e){e.preventDefault(),console.log("touchStart");let t=e.changedTouches;for(let e=0;e<t.length;e++)R.push(W(t[e])),console.log("touchstart:"+e+".")}function q(e){e.preventDefault(),console.log("touchMove");let t,n=e.changedTouches;for(let e=0;e<n.length;e++)t=z(n[e].identifier),t>=0?R.splice(t,1,W(n[e])):console.log("can't figure out which touch to continue")}function J(e){e.preventDefault(),console.log("touchEnd");let t,n=e.changedTouches;for(let e=0;e<n.length;e++)t=z(n[e].identifier),t>=0?R.splice(t,1):console.log("can't figure out which touch to end");console.log(R.length)}function K(e){e.preventDefault(),console.log("touchcancel.");let t,n=e.changedTouches;for(var r=0;r<n.length;r++)t=z(n[r].identifier),R.splice(t,1)}function Q(e,t){!function(e,t){"keydown"==e?("d"==t||"ArrowRight"==t?O[0]=1:"a"!=t&&"ArrowLeft"!=t||(O[0]=-1),"w"==t||"ArrowUp"==t?O[1]=1:"s"!=t&&"ArrowDown"!=t||(O[1]=-1),"Shift"==t||"z"==t?O[2]=-1:"Control"!=t&&"x"!=t||(O[2]=1),"e"==t?O[3]=-1:"q"==t&&(O[3]=1)):"keyup"==e&&("d"==t||"ArrowRight"==t?O[0]=0:"a"!=t&&"ArrowLeft"!=t||(O[0]=0),"w"==t||"ArrowUp"==t?O[1]=0:"s"!=t&&"ArrowDown"!=t||(O[1]=0),"Shift"==t||"z"==t?O[2]=0:"Control"!=t&&"x"!=t||(O[2]=0),("e"==t||"q"==t)&&(O[3]=0))}(e,t.key),"Space"==t.code&&"keyup"==e&&Y()}!async function(){v=await N(c),y=await N(d),E=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],L=[0,0,0,1,0,0,1,1,0,0,1,0],D=[0,1,2,0,2,3],b=new r(p,E),w=new a(p,D),x=new i(p,v,y);let e=p.getAttribLocation(x.rendererID,"a_VertPosition");p.vertexAttribPointer(e,3,p.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),p.enableVertexAttribArray(e);let t=p.getAttribLocation(x.rendererID,"a_TexCoord");p.vertexAttribPointer(t,3,p.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),p.enableVertexAttribArray(t),x.Bind(p),x.SetUniform2fv(p,"u_resolution",[p.drawingBufferWidth,p.drawingBufferHeight]),$(),M?k():H();u.loopStatus(M)}(),I.loc={x:document.getElementById("locXInput"),y:document.getElementById("locYInput")},I.loc.x.value=U[0],I.loc.y.value=U[1],I.loc.x.addEventListener("change",j),I.loc.y.addEventListener("change",j),I.maxIter=document.getElementById("maxiter"),I.maxIter.addEventListener("change",V),I.maxIter.addEventListener("wheel",V),I.maxIter.value=_,I.maxRad=document.getElementById("maxrad"),I.maxRad.addEventListener("change",G),I.maxRad.addEventListener("wheel",G),I.maxRad.value=B,I.sym=document.getElementById("syminput"),I.sym.addEventListener("input",j),I.color={r:document.getElementById("redinput"),g:document.getElementById("blueinput"),b:document.getElementById("greeninput")},I.color.r.value=100*F[0],I.color.g.value=100*F[1],I.color.b.value=100*F[2],I.color.r.addEventListener("input",j),I.color.g.addEventListener("input",j),I.color.b.addEventListener("input",j),f.addEventListener("touchstart",X,!1),f.addEventListener("touchmove",q,!1),f.addEventListener("touchend",J,!1),f.addEventListener("touchcancel",K,!1),window.addEventListener("resize",()=>{M||H()}),window.addEventListener("keypress",e=>{Q("keypress",e)}),window.addEventListener("keydown",e=>{Q("keydown",e)}),window.addEventListener("keyup",e=>{Q("keyup",e)}),window.addEventListener("blur",e=>{M&&Y()}),window.addEventListener("focus",e=>{M||Y()})}]);